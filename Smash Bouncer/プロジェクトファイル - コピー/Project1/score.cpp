//==============================================================================================================================================
//
// スコアデータの処理
// Author : Atsumu Kuboichi
//
//==============================================================================================================================================

//===========================================================================================================
// ヘッダーインクルード
//===========================================================================================================
#include "scorenumber.h"//スコア表示

//===========================================================================================================
// コンストラクタ
//===========================================================================================================
CScore::CScore(int nPriority) : CObject2D(nPriority)
{
	//メンバ変数初期化
	m_nScore = 0;//スコア
}

//===========================================================================================================
// デストラクタ
//===========================================================================================================
CScore::~CScore()
{
	//ファイルを開く
	FILE* pFile = fopen("data/LastScore.bin", "wb");

	//ファイルが見つかった場合
	if (pFile != nullptr)
	{
		//スコアを書き出す
		fwrite(&m_nScore, sizeof(int), 1, pFile);

		//ファイルを閉じる
		fclose(pFile);
	}
}

//===========================================================================================================
// スコア加算処理
//===========================================================================================================
void CScore::AddScore(int nAdd)
{
	//スコアを加算
	m_nScore += nAdd;

	//スコア表示の保存用スコアを設定
	CScoreNumber::SaveScore(m_nScore);
}
