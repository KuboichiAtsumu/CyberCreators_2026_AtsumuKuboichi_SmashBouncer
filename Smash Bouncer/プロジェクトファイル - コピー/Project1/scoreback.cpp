//==============================================================================================================================================
//
// スコア表示背景に関する処理
// Author : Atsumu Kuboichi
//
//==============================================================================================================================================

//===========================================================================================================
// ヘッダーインクルード
//===========================================================================================================
#include "scoreback.h"//スコア表示背景

//===========================================================================================================
// コンストラクタ
//===========================================================================================================
CScoreBack::CScoreBack(int nPriority) : CObject2D(nPriority)
{
	//メンバ変数初期化
	m_state = SCALE;//状態
}

//===========================================================================================================
// デストラクタ
//===========================================================================================================
CScoreBack::~CScoreBack()
{
}

//===========================================================================================================
// 初期化処理
//===========================================================================================================
HRESULT CScoreBack::Init()
{
	//パラメータ設定
	SetPos(POS);//位置
	SetSize(SIZE);//サイズ
	SetColor({ 0.0f,0.0f,0.0f,0.5f });///カラー

	//2Dオブジェクト初期化処理
	if (FAILED(CObject2D::Init()))
	{
		return E_FAIL;
	}

	return S_OK;
}

//===========================================================================================================
// 終了処理
//===========================================================================================================
void CScoreBack::Uninit()
{
	//2Dオブジェクト終了処理
	CObject2D::Uninit();
}

//===========================================================================================================
// 更新処理
//===========================================================================================================
void CScoreBack::Update()
{
	//拡大中状態の場合
	if (m_state == SCALE)
	{
		//ローカル変数宣言
		D3DXVECTOR2 size = GetSize();//サイズ情報

		//拡大していく
		size.y += SCLAING_SPEED;

		//更新されたサイズ情報を設定
		SetSize(size);

		//2Dオブジェクト更新処理
		CObject2D::Update();

		//目標のサイズまで拡大された場合
		if (size.y >= TARGET_HEIGHT)
		{
			//状態を変更
			m_state = NONE;
		}
	}
}

//===========================================================================================================
// 描画処理
//===========================================================================================================
void CScoreBack::Draw()
{
	//2Dオブジェクト描画処理
	CObject2D::Draw();
}

//===========================================================================================================
// 生成処理
//===========================================================================================================
CScoreBack* CScoreBack::Create()
{
	CScoreBack* pScoreBack = NEW CScoreBack();

	//パラメータ設定
	pScoreBack->SetType(CObject::UI);//オブジェクトタイプ

	//初期化処理
	pScoreBack->Init();

	return pScoreBack;
}
