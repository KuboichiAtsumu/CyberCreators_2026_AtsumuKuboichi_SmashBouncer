//===========================================================================================================================================================================================
//
// 入力処理
// Author : Atsumu Kuboichi
//
//===========================================================================================================================================================================================

//===========================================================================================================
// ヘッダーインクルード
//===========================================================================================================
#include "input.h"//インプット

//===========================================================================================================
// 静的メンバ変数初期化
//===========================================================================================================
LPDIRECTINPUT8 CInput::m_pInput = nullptr;

//===========================================================================================================
// コンストラクタ
//===========================================================================================================
CInput::CInput()
{
	//メンバ変数初期化
	m_pDevice = nullptr;//デバイス情報
}

//===========================================================================================================
// デストラクタ
//===========================================================================================================
CInput::~CInput()
{
}

//===========================================================================================================
// 初期化処理
//===========================================================================================================
HRESULT CInput::Init(HINSTANCE hInstance)
{
	if (m_pInput == nullptr)
	{
		if (FAILED(DirectInput8Create(hInstance, DIRECTINPUT_VERSION, IID_IDirectInput8, (void**)&m_pInput, nullptr)))
			return E_FAIL;
	}
	
	return S_OK;
}

//===========================================================================================================
// 終了処理
//===========================================================================================================
void CInput::Uninit()
{
	//入力デバイス(キーボード)の破棄
	if (m_pDevice != nullptr)
	{
		m_pDevice->Unacquire();
		m_pDevice->Release();
		m_pDevice = nullptr;
	}
	//DirectInputオブジェクトの破棄
	if (m_pInput != nullptr)
	{
		m_pInput->Release();
		m_pInput = nullptr;
	}
}
